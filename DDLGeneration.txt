SEIS630 - Monday
Project: DDL Generation
Zach Aaberg
Alex Graves
Dan Ward

CREATE TABLE ALL_ENTITIES 
(
  ID VARCHAR2(9 BYTE) NOT NULL 
, NAME VARCHAR2(20 BYTE) NOT NULL 
, CONSTRAINT TABLE1_PK PRIMARY KEY 
  (
    ID 
  )
  USING INDEX 
  (
      CREATE UNIQUE INDEX TABLE1_PK ON ALL_ENTITIES (ID ASC) 
      LOGGING 
      TABLESPACE USERS 
      PCTFREE 10 
      INITRANS 2 
      STORAGE 
      ( 
        INITIAL 65536 
        NEXT 1048576 
        MINEXTENTS 1 
        MAXEXTENTS UNLIMITED 
        BUFFER_POOL DEFAULT 
      ) 
      NOPARALLEL 
  )
  ENABLE 
) 
LOGGING 
TABLESPACE USERS 
PCTFREE 10 
INITRANS 1 
STORAGE 
( 
  INITIAL 65536 
  NEXT 1048576 
  MINEXTENTS 1 
  MAXEXTENTS UNLIMITED 
  BUFFER_POOL DEFAULT 
) 
NOPARALLEL;


CREATE TABLE ENTITY_ATTRIBUTES 
(
    id                    VARCHAR2(9 BYTE) NOT NULL,
    key_status            VARCHAR2(5 BYTE) NOT NULL,
    entity                VARCHAR2(20 BYTE) NOT NULL,
    entityid              VARCHAR2(9 BYTE) NOT NULL,
    attribute_name        VARCHAR2(20 BYTE) NOT NULL,
    composite_attribute   VARCHAR2(20 BYTE),
    composite_parent_id   VARCHAR2(9 BYTE),
    derived_attribute     VARCHAR2(9 BYTE),
    derived_parent_id     VARCHAR2(9 BYTE),
    data_type		  VARCHAR2(20 BYTE)
, CONSTRAINT ENTITY_ATTRIBUTES_PK PRIMARY KEY 
  (
    ID 
  )
  USING INDEX 
  (
      CREATE UNIQUE INDEX ENTITY_ATTRIBUTES_PK ON ENTITY_ATTRIBUTES (ID ASC) 
      LOGGING 
      TABLESPACE USERS 
      PCTFREE 10 
      INITRANS 2 
      STORAGE 
      ( 
        INITIAL 65536 
        NEXT 1048576 
        MINEXTENTS 1 
        MAXEXTENTS UNLIMITED 
        BUFFER_POOL DEFAULT 
      ) 
      NOPARALLEL 
  )
  ENABLE 
) 
LOGGING 
TABLESPACE USERS 
PCTFREE 10 
INITRANS 1 
STORAGE 
( 
  INITIAL 65536 
  NEXT 1048576 
  MINEXTENTS 1 
  MAXEXTENTS UNLIMITED 
  BUFFER_POOL DEFAULT 
) 
NOPARALLEL;

ALTER TABLE ENTITY_ATTRIBUTES
ADD CONSTRAINT ENTITY_ATTRIB_ALL_ENTITIES_FK FOREIGN KEY
(
  ENTITYID 
)
REFERENCES ALL_ENTITIES
(
  ID 
)
ENABLE;


CREATE TABLE RELATIONSHIP 
(
  ID VARCHAR2(9 BYTE) NOT NULL 
, START_CARDINALITY VARCHAR2(10 BYTE) 
, END_CARDINALITY VARCHAR2(10 BYTE) 
, STARTENTITYID VARCHAR2(9 BYTE) NOT NULL 
, ENDENTITYID VARCHAR2(9 BYTE) NOT NULL 
, ACTION VARCHAR2(20 BYTE) NOT NULL 
, CONSTRAINT RELATIONSHIP_PK PRIMARY KEY 
  (
    ID 
  )
  USING INDEX 
  (
      CREATE UNIQUE INDEX RELATIONSHIP_PK ON RELATIONSHIP (ID ASC) 
      LOGGING 
      TABLESPACE USERS 
      PCTFREE 10 
      INITRANS 2 
      STORAGE 
      ( 
        INITIAL 65536 
        NEXT 1048576 
        MINEXTENTS 1 
        MAXEXTENTS UNLIMITED 
        BUFFER_POOL DEFAULT 
      ) 
      NOPARALLEL 
  )
  ENABLE 
) 
LOGGING 
TABLESPACE USERS 
PCTFREE 10 
INITRANS 1 
STORAGE 
( 
  INITIAL 65536 
  NEXT 1048576 
  MINEXTENTS 1 
  MAXEXTENTS UNLIMITED 
  BUFFER_POOL DEFAULT 
) 
NOPARALLEL;

ALTER TABLE RELATIONSHIP
ADD CONSTRAINT RELATIONSHIP_ALL_ENTITIES_FK FOREIGN KEY
(
  STARTENTITYID 
)
REFERENCES ALL_ENTITIES
(
  ID 
)
ENABLE;

ALTER TABLE RELATIONSHIP
ADD CONSTRAINT RELATIONSHIP_ALL_ENTITIES_FKV1 FOREIGN KEY
(
  ENDENTITYID 
)
REFERENCES ALL_ENTITIES
(
  ID 
)
ENABLE;


CREATE TABLE RELATIONSHIP_ATTRIBUTES 
(
  ID VARCHAR2(9 BYTE) NOT NULL 
, KEY_STATUS VARCHAR2(5 BYTE) NOT NULL 
, ATTRIBUTE_NAME VARCHAR2(20 BYTE) NOT NULL 
, RELATIONSHIPID VARCHAR2(9 BYTE) NOT NULL 
, data_type		  VARCHAR2(20 BYTE)
, CONSTRAINT RELATIONSHIP_ATTRIBUTES_PK PRIMARY KEY 
  (
    ID 
  )
  USING INDEX 
  (
      CREATE UNIQUE INDEX RELATIONSHIP_ATTRIBUTES_PK ON RELATIONSHIP_ATTRIBUTES (ID ASC) 
      LOGGING 
      TABLESPACE USERS 
      PCTFREE 10 
      INITRANS 2 
      STORAGE 
      ( 
        INITIAL 65536 
        NEXT 1048576 
        MINEXTENTS 1 
        MAXEXTENTS UNLIMITED 
        BUFFER_POOL DEFAULT 
      ) 
      NOPARALLEL 
  )
  ENABLE 
) 
LOGGING 
TABLESPACE USERS 
PCTFREE 10 
INITRANS 1 
STORAGE 
( 
  INITIAL 65536 
  NEXT 1048576 
  MINEXTENTS 1 
  MAXEXTENTS UNLIMITED 
  BUFFER_POOL DEFAULT 
) 
NOPARALLEL;

ALTER TABLE RELATIONSHIP_ATTRIBUTES
ADD CONSTRAINT RELTNSHIP_ATTRIB_RELTNSHIP_FK FOREIGN KEY
(
  RELATIONSHIPID 
)
REFERENCES RELATIONSHIP
(
  ID 
)
ENABLE;


CREATE TABLE SPECIALIZED_RELATIONSHIP 
(
  ID VARCHAR2(9 BYTE) NOT NULL 
, STARTENTITYID VARCHAR2(9 BYTE) NOT NULL 
, SPECIALIZATION VARCHAR2(20 BYTE) NOT NULL 
, ENDENTITYID VARCHAR2(9 BYTE) NOT NULL 
, CONSTRAINT SPECIALIZED_RELATIONSHIP_PK PRIMARY KEY 
  (
    ID 
  )
  USING INDEX 
  (
      CREATE UNIQUE INDEX SPECIALIZED_RELATIONSHIP_PK ON SPECIALIZED_RELATIONSHIP (ID ASC) 
      LOGGING 
      TABLESPACE USERS 
      PCTFREE 10 
      INITRANS 2 
      STORAGE 
      ( 
        INITIAL 65536 
        NEXT 1048576 
        MINEXTENTS 1 
        MAXEXTENTS UNLIMITED 
        BUFFER_POOL DEFAULT 
      ) 
      NOPARALLEL 
  )
  ENABLE 
) 
LOGGING 
TABLESPACE USERS 
PCTFREE 10 
INITRANS 1 
STORAGE 
( 
  INITIAL 65536 
  NEXT 1048576 
  MINEXTENTS 1 
  MAXEXTENTS UNLIMITED 
  BUFFER_POOL DEFAULT 
) 
NOPARALLEL;

ALTER TABLE SPECIALIZED_RELATIONSHIP
ADD CONSTRAINT SPECIAL_RELTNSHIP_ALL_ENTS_FK FOREIGN KEY
(
  STARTENTITYID 
)
REFERENCES ALL_ENTITIES
(
  ID 
)
ENABLE;

ALTER TABLE SPECIALIZED_RELATIONSHIP
ADD CONSTRAINT SPEC_RELTNSHIP_ALL_ENTS_FKV1 FOREIGN KEY
(
  ENDENTITYID 
)
REFERENCES ALL_ENTITIES
(
  ID 
)
ENABLE;

