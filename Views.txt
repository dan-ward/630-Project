CREATE VIEW ALL_ENTS
AS SELECT AE.NAME
FROM All_Entities AE Order By NAME;

CREATE VIEW ALL_ATTS
AS SELECT EA.ENTITY
FROM Entity_Attributes EA order by ENTITY;

CREATE OR REPLACE FORCE VIEW ALL_ATTS AS 
SELECT EA.Attribute_Name  
FROM Entity_Attributes EA 
UNION
SELECT RA.Attribute_Name
FROM Relationship_Attributes RA;


CREATE VIEW ALL_KEYS
AS SELECT EA.ENTITY
FROM Entity_Attributes EA 
Where EA.KEY_STATUS = 'TRUE'
Union
Select RA.ATTRIBUTE_NAME ENTITY
From Relationship_Attributes RA
Where RA.KEY_STATUS = 'TRUE';


CREATE VIEW ALL_RELS
AS SELECT R.ACTION   
FROM Relationship R Order by R.ACTION;


CREATE VIEW EntAtt AS
SELECT e.ENTITY, e.ATTRIBUTE_NAME 
FROM ENTITY_ATTRIBUTES e
ORDER BY e.ENTITY;


CREATE VIEW RelEnt AS
WITH START_ENT AS(SELECT r.ID,e.ENTITY STARTING, r.ACTION FROM RELATIONSHIP r, ENTITY_ATTRIBUTES e WHERE r.STARTENTITYID=e.ENTITYID),
END_ENT AS (SELECT r.ID,e.ENTITY STOP_ENT, r.ACTION from RELATIONSHIP r, ENTITY_ATTRIBUTES e WHERE r.ENDENTITYID=e.ENTITYID)
SELECT r.ACTION NAME,s.STARTING START_ENTITY,e.STOP_ENT STOP_ENTITY FROM RELATIONSHIP r 
JOIN START_ENT s ON r.ID=s.ID 
JOIN END_ENT e ON r.ID=e.ID ORDER BY NAME;


CREATE VIEW RelAtt AS
SELECT R.ACTION, RA.ATTRIBUTE_NAME
FROM RELATIONSHIP_ATTRIBUTES RA, RELATIONSHIP R
WHERE RA.RELATIONSHIPID = R.ID;


CREATE VIEW AttDatatype AS
SELECT a.ATTRIBUTE_NAME, a.DATA_TYPE 
FROM ENTITY_ATTRIBUTES a;


CREATE VIEW EntKey AS
SELECT e.ID, e.ATTRIBUTE_NAME PKeyName 
FROM ENTITY_ATTRIBUTES e 
WHERE e.KEY_STATUS ='TRUE' ORDER BY PKeyName;


CREATE VIEW KeyAttr AS
SELECT e.ID, e.ATTRIBUTE_NAME PKeyName 
FROM ENTITY_ATTRIBUTES e 
WHERE e.KEY_STATUS ='TRUE' ORDER BY PKeyName;